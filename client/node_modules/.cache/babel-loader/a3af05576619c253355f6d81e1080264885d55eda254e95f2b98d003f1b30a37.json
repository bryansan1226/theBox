{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from\"@mui/material/Card\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import Button from\"@mui/material/Button\";import TextField from\"@mui/material/TextField\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import NewAccountForm from\"./NewAccountForm\";import Backdrop from\"@mui/material/Backdrop\";import{Container}from\"@mui/material\";import Typography from\"@mui/material/Typography\";import backendUrl from\"../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(){//declaring variables to handle user input and allow navigating within the app using navigate\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var navigate=useNavigate();var handleUsername=function handleUsername(event){var inputValue=event.target.value;setUsername(inputValue);};var handlePassword=function handlePassword(event){var inputValue=event.target.value;setPassword(inputValue);};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,token,_error$response,_error$response$data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(backendUrl);_context.prev=1;_context.next=4;return axios.post(\"\".concat(backendUrl,\"api/login\"),{username:username,password:password});case 4:response=_context.sent;token=response.data.token;localStorage.setItem(\"token\",token);navigate(\"/home\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(((_error$response=_context.t0.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Error during login\");case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleEnterKeyPress=function handleEnterKeyPress(e){if(e.key===\"Enter\"){handleLogin();}};var handleClose=function handleClose(){setOpen(false);};var handleOpen=function handleOpen(){setOpen(true);};return/*#__PURE__*/_jsx(Container,{sx:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"80vh\"// Adjust this to control vertical centering\n},children:/*#__PURE__*/_jsxs(Card,{sx:{minWidth:275},children:[/*#__PURE__*/_jsxs(CardContent,{sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,children:\"The Box\"}),/*#__PURE__*/_jsx(TextField,{id:\"username\",onChange:handleUsername,onKeyDown:handleEnterKeyPress,label:\"Username\",sx:{margin:\"8px\"}}),/*#__PURE__*/_jsx(TextField,{id:\"password\",type:\"password\",onChange:handlePassword,label:\"Password\",onKeyDown:handleEnterKeyPress,sx:{marginTop:\"8px\"}})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:handleLogin,children:\"Sign in\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:handleOpen,children:\"Create new account\"})]}),/*#__PURE__*/_jsx(Backdrop,{sx:{color:\"#fff\",zIndex:function zIndex(theme){return theme.zIndex.drawer+1;}},open:open//onClick={handleClose}\n,children:/*#__PURE__*/_jsx(NewAccountForm,{handleClose:handleClose})})]})});}export default LoginForm;","map":{"version":3,"names":["Card","CardActions","CardContent","Button","TextField","useState","useNavigate","axios","NewAccountForm","Backdrop","Container","Typography","backendUrl","jsx","_jsx","jsxs","_jsxs","LoginForm","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","open","setOpen","navigate","handleUsername","event","inputValue","target","value","handlePassword","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","token","_error$response","_error$response$data","wrap","_callee$","_context","prev","next","console","log","post","concat","sent","data","localStorage","setItem","t0","error","stop","apply","arguments","handleEnterKeyPress","e","key","handleClose","handleOpen","sx","display","justifyContent","alignItems","height","children","minWidth","flexDirection","variant","gutterBottom","id","onChange","onKeyDown","label","margin","type","marginTop","size","onClick","color","zIndex","theme","drawer"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/components/LoginForm.js"],"sourcesContent":["import Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport NewAccountForm from \"./NewAccountForm\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport { Container } from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\nimport backendUrl from \"../config\";\nfunction LoginForm() {\n  //declaring variables to handle user input and allow navigating within the app using navigate\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const navigate = useNavigate();\n\n  const handleUsername = (event) => {\n    const inputValue = event.target.value;\n    setUsername(inputValue);\n  };\n  const handlePassword = (event) => {\n    const inputValue = event.target.value;\n    setPassword(inputValue);\n  };\n  const handleLogin = async () => {\n    console.log(backendUrl);\n    try {\n      /*Makes an API call to the backend with the provided username and password. \n      If the API returns a token, it will be set in localstorage and the user will be navigated to the homepage*/\n      const response = await axios.post(`${backendUrl}api/login`, {\n        username,\n        password,\n      });\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n\n      navigate(\"/home\");\n    } catch (error) {\n      console.error(error.response?.data?.error || \"Error during login\");\n    }\n  };\n  const handleEnterKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleLogin();\n    }\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <Container\n      sx={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"80vh\", // Adjust this to control vertical centering\n      }}\n    >\n      <Card sx={{ minWidth: 275 }}>\n        <CardContent\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n          }}\n        >\n          <Typography variant=\"h3\" gutterBottom>\n            The Box\n          </Typography>\n          <TextField\n            id=\"username\"\n            onChange={handleUsername}\n            onKeyDown={handleEnterKeyPress}\n            label=\"Username\"\n            sx={{ margin: \"8px\" }}\n          />\n          <TextField\n            id=\"password\"\n            type=\"password\"\n            onChange={handlePassword}\n            label=\"Password\"\n            onKeyDown={handleEnterKeyPress}\n            sx={{ marginTop: \"8px\" }}\n          />\n        </CardContent>\n        <CardActions>\n          <Button variant=\"contained\" size=\"small\" onClick={handleLogin}>\n            Sign in\n          </Button>\n          <Button variant=\"contained\" size=\"small\" onClick={handleOpen}>\n            Create new account\n          </Button>\n        </CardActions>\n        {/*The backdrop will also render the NewAccount component when opened and passes the handleClose\n        function so it can be closed from within the component */}\n        <Backdrop\n          sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\n          open={open}\n          //onClick={handleClose}\n        >\n          <NewAccountForm handleClose={handleClose} />\n        </Backdrop>\n      </Card>\n    </Container>\n  );\n}\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}