{"ast":null,"code":"var _jsxFileName = \"/Users/bryansanchezandrade/Documents/box/client/src/components/Post.js\",\n  _s = $RefreshSig$();\nimport { Card, CardContent, Typography, CardActions, Button } from \"@mui/material\";\nimport { useState } from \"react\";\nimport backendUrl from \"../config\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Popper from \"@mui/material/Popper\";\nimport PopupState, { bindToggle, bindPopper } from \"material-ui-popup-state\";\nimport Fade from \"@mui/material/Fade\";\nimport Paper from \"@mui/material/Paper\";\nimport Comment from \"./Comment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post(props) {\n  _s();\n  const [userInfo, setUserInfo] = useState([]);\n  const [commentText, setCommentText] = useState(\"\");\n  const [comments, setComments] = useState([]);\n  const handleCommentText = event => {\n    const inputValue = event.target.value;\n    setCommentText(inputValue);\n  };\n  const handleNewComment = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios.post(`${backendUrl}api/newComment`, {\n      post_id: props.content.post_id,\n      user_id: props.userInfo.user_id,\n      content: commentText,\n      created_at: currentTimestamp\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      console.log(\"Response from server:\", message);\n      //  props.getUserPosts();\n      setCommentText(\"\");\n    }).catch(error => {\n      console.error(\"Error posting data: \", error);\n    });\n  };\n  const getComments = async () => {\n    axios.get(`${backendUrl}api/getComments/${props.content.post_id}`).then(response => {\n      const message = response.data.rows;\n      console.log(message);\n      setComments(message);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  const findByUserID = async () => {\n    axios.get(`${backendUrl}api/findByUserID/${props.content.user_id}`).then(response => {\n      const message = response.data;\n      setUserInfo(message);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  useEffect(() => {\n    findByUserID();\n    getComments();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"div\",\n        children: [userInfo.first_name, \" \", userInfo.last_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        children: props.content.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopupState, {\n        variant: \"popper\",\n        popupId: \"demo-popup-popper\",\n        children: popupState => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            ...bindToggle(popupState),\n            children: [\"View comments (\", comments.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Popper, {\n            ...bindPopper(popupState),\n            transition: true,\n            children: ({\n              TransitionProps\n            }) => /*#__PURE__*/_jsxDEV(Fade, {\n              ...TransitionProps,\n              timeout: 350,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: comments.map((content, index) => /*#__PURE__*/_jsxDEV(Comment, {\n                    content: content\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        variant: \"filled\",\n        fullWidth: true,\n        onChange: handleCommentText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: handleNewComment,\n        children: \"Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        children: \"Like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"EJwgr+/9NxIlq3c200TC3/AaSuo=\");\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["Card","CardContent","Typography","CardActions","Button","useState","backendUrl","axios","useEffect","TextField","Popper","PopupState","bindToggle","bindPopper","Fade","Paper","Comment","jsxDEV","_jsxDEV","Post","props","_s","userInfo","setUserInfo","commentText","setCommentText","comments","setComments","handleCommentText","event","inputValue","target","value","handleNewComment","currentTimestamp","Date","toISOString","post","post_id","content","user_id","created_at","then","response","message","data","console","log","catch","error","getComments","get","rows","findByUserID","style","maxWidth","children","gutterBottom","variant","component","first_name","last_name","fileName","_jsxFileName","lineNumber","columnNumber","color","popupId","popupState","size","length","transition","TransitionProps","timeout","map","index","fullWidth","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/bryansanchezandrade/Documents/box/client/src/components/Post.js"],"sourcesContent":["import {\n  Card,\n  CardContent,\n  Typography,\n  CardActions,\n  Button,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport backendUrl from \"../config\";\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Popper from \"@mui/material/Popper\";\nimport PopupState, { bindToggle, bindPopper } from \"material-ui-popup-state\";\nimport Fade from \"@mui/material/Fade\";\nimport Paper from \"@mui/material/Paper\";\nimport Comment from \"./Comment\";\n\nfunction Post(props) {\n  const [userInfo, setUserInfo] = useState([]);\n  const [commentText, setCommentText] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const handleCommentText = (event) => {\n    const inputValue = event.target.value;\n    setCommentText(inputValue);\n  };\n  const handleNewComment = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios\n      .post(`${backendUrl}api/newComment`, {\n        post_id: props.content.post_id,\n        user_id: props.userInfo.user_id,\n        content: commentText,\n        created_at: currentTimestamp,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        console.log(\"Response from server:\", message);\n        //  props.getUserPosts();\n        setCommentText(\"\");\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n  };\n  const getComments = async () => {\n    axios\n      .get(`${backendUrl}api/getComments/${props.content.post_id}`)\n      .then((response) => {\n        const message = response.data.rows;\n        console.log(message);\n        setComments(message);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n\n  const findByUserID = async () => {\n    axios\n      .get(`${backendUrl}api/findByUserID/${props.content.user_id}`)\n      .then((response) => {\n        const message = response.data;\n        setUserInfo(message);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  useEffect(() => {\n    findByUserID();\n    getComments();\n  }, []);\n  return (\n    <Card style={{ maxWidth: \"100%\" }}>\n      <CardContent>\n        {\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\n            {userInfo.first_name} {userInfo.last_name}\n          </Typography>\n        }\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          {props.content.content}\n        </Typography>\n        <PopupState variant=\"popper\" popupId=\"demo-popup-popper\">\n          {(popupState) => (\n            <div>\n              <Button size=\"small\" {...bindToggle(popupState)}>\n                View comments ({comments.length})\n              </Button>\n              <Popper {...bindPopper(popupState)} transition>\n                {({ TransitionProps }) => (\n                  <Fade {...TransitionProps} timeout={350}>\n                    <Paper>\n                      <div>\n                        {comments.map((content, index) => (\n                          <Comment key={index} content={content} />\n                        ))}\n                      </div>\n                    </Paper>\n                  </Fade>\n                )}\n              </Popper>\n            </div>\n          )}\n        </PopupState>\n      </CardContent>\n      <CardActions>\n        <TextField variant=\"filled\" fullWidth onChange={handleCommentText} />\n        <Button size=\"small\" onClick={handleNewComment}>\n          Comment\n        </Button>\n        <Button size=\"small\">Like</Button>\n      </CardActions>\n    </Card>\n  );\n}\nexport default Post;\n"],"mappings":";;AAAA,SACEA,IAAI,EACJC,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,MAAM,QACD,eAAe;AACtB,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,UAAU,MAAM,WAAW;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,UAAU,IAAIC,UAAU,EAAEC,UAAU,QAAQ,yBAAyB;AAC5E,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,IAAIA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAMuB,iBAAiB,GAAIC,KAAK,IAAK;IACnC,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;IACrCP,cAAc,CAACK,UAAU,CAAC;EAC5B,CAAC;EACD,MAAMG,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,MAAMC,gBAAgB,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACjD7B,KAAK,CACF8B,IAAI,CAAE,GAAE/B,UAAW,gBAAe,EAAE;MACnCgC,OAAO,EAAElB,KAAK,CAACmB,OAAO,CAACD,OAAO;MAC9BE,OAAO,EAAEpB,KAAK,CAACE,QAAQ,CAACkB,OAAO;MAC/BD,OAAO,EAAEf,WAAW;MACpBiB,UAAU,EAAEP;IACd,CAAC,CAAC,CACDQ,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAM;QAAEC;MAAQ,CAAC,GAAGD,QAAQ,CAACE,IAAI;MACjCC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEH,OAAO,CAAC;MAC7C;MACAnB,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,CAAC,CACDuB,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC;EACD,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B3C,KAAK,CACF4C,GAAG,CAAE,GAAE7C,UAAW,mBAAkBc,KAAK,CAACmB,OAAO,CAACD,OAAQ,EAAC,CAAC,CAC5DI,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAI,CAACO,IAAI;MAClCN,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;MACpBjB,WAAW,CAACiB,OAAO,CAAC;IACtB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACN,CAAC;EAED,MAAMI,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B9C,KAAK,CACF4C,GAAG,CAAE,GAAE7C,UAAW,oBAAmBc,KAAK,CAACmB,OAAO,CAACC,OAAQ,EAAC,CAAC,CAC7DE,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAI;MAC7BtB,WAAW,CAACqB,OAAO,CAAC;IACtB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACN,CAAC;EACDzC,SAAS,CAAC,MAAM;IACd6C,YAAY,CAAC,CAAC;IACdH,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EACN,oBACEhC,OAAA,CAAClB,IAAI;IAACsD,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAChCtC,OAAA,CAACjB,WAAW;MAAAuD,QAAA,gBAERtC,OAAA,CAAChB,UAAU;QAACuD,YAAY;QAACC,OAAO,EAAC,IAAI;QAACC,SAAS,EAAC,KAAK;QAAAH,QAAA,GAClDlC,QAAQ,CAACsC,UAAU,EAAC,GAAC,EAACtC,QAAQ,CAACuC,SAAS;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,eAEf/C,OAAA,CAAChB,UAAU;QAACwD,OAAO,EAAC,OAAO;QAACQ,KAAK,EAAC,gBAAgB;QAAAV,QAAA,EAC/CpC,KAAK,CAACmB,OAAO,CAACA;MAAO;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eACb/C,OAAA,CAACP,UAAU;QAAC+C,OAAO,EAAC,QAAQ;QAACS,OAAO,EAAC,mBAAmB;QAAAX,QAAA,EACpDY,UAAU,iBACVlD,OAAA;UAAAsC,QAAA,gBACEtC,OAAA,CAACd,MAAM;YAACiE,IAAI,EAAC,OAAO;YAAA,GAAKzD,UAAU,CAACwD,UAAU,CAAC;YAAAZ,QAAA,GAAE,iBAChC,EAAC9B,QAAQ,CAAC4C,MAAM,EAAC,GAClC;UAAA;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT/C,OAAA,CAACR,MAAM;YAAA,GAAKG,UAAU,CAACuD,UAAU,CAAC;YAAEG,UAAU;YAAAf,QAAA,EAC3CA,CAAC;cAAEgB;YAAgB,CAAC,kBACnBtD,OAAA,CAACJ,IAAI;cAAA,GAAK0D,eAAe;cAAEC,OAAO,EAAE,GAAI;cAAAjB,QAAA,eACtCtC,OAAA,CAACH,KAAK;gBAAAyC,QAAA,eACJtC,OAAA;kBAAAsC,QAAA,EACG9B,QAAQ,CAACgD,GAAG,CAAC,CAACnC,OAAO,EAAEoC,KAAK,kBAC3BzD,OAAA,CAACF,OAAO;oBAAauB,OAAO,EAAEA;kBAAQ,GAAxBoC,KAAK;oBAAAb,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAqB,CACzC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ;UACP;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eACd/C,OAAA,CAACf,WAAW;MAAAqD,QAAA,gBACVtC,OAAA,CAACT,SAAS;QAACiD,OAAO,EAAC,QAAQ;QAACkB,SAAS;QAACC,QAAQ,EAAEjD;MAAkB;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrE/C,OAAA,CAACd,MAAM;QAACiE,IAAI,EAAC,OAAO;QAACS,OAAO,EAAE7C,gBAAiB;QAAAuB,QAAA,EAAC;MAEhD;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT/C,OAAA,CAACd,MAAM;QAACiE,IAAI,EAAC,OAAO;QAAAb,QAAA,EAAC;MAAI;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEX;AAAC5C,EAAA,CAnGQF,IAAI;AAAA4D,EAAA,GAAJ5D,IAAI;AAoGb,eAAeA,IAAI;AAAC,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}