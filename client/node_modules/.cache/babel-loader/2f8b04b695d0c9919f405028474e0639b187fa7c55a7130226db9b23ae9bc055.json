{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import Card from\"@mui/material/Card\";import CardContent from\"@mui/material/CardContent\";import CardMedia from\"@mui/material/CardMedia\";import Typography from\"@mui/material/Typography\";import{CardActionArea}from\"@mui/material\";import axios from\"axios\";import backendUrl from\"../config\";import{useEffect}from\"react\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ConversationCard(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var navigate=useNavigate();var findByUserID=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:axios.get(\"\".concat(backendUrl,\"api/findByUserID/\").concat(props.conversation_id)).then(function(response){var message=response.data;//console.log(message);\nsetName(message.first_name+\" \"+message.last_name);}).catch(function(error){console.error(\"Error fetching data: \",error);});case 1:case\"end\":return _context.stop();}},_callee);}));return function findByUserID(){return _ref.apply(this,arguments);};}();var goToConversation=function goToConversation(var1,var2){navigate(\"/conversation?user_id=\".concat(var1,\"&conversation_id=\").concat(var2));};useEffect(function(){findByUserID();},[]);return/*#__PURE__*/_jsx(Card,{sx:{width:\"99vw\",backgroundColor:props.message.is_read||props.message.sender_id==props.user_id?\"white\":\"rgb(24,118,210,0.25)\"},children:/*#__PURE__*/_jsx(CardActionArea,{onClick:function onClick(){return goToConversation(props.user_id,props.conversation_id);},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:props.message.content})]})})});}export default ConversationCard;","map":{"version":3,"names":["React","Card","CardContent","CardMedia","Typography","CardActionArea","axios","backendUrl","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","ConversationCard","props","_useState","_useState2","_slicedToArray","name","setName","navigate","findByUserID","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","conversation_id","then","response","message","data","first_name","last_name","catch","error","console","stop","apply","arguments","goToConversation","var1","var2","sx","width","backgroundColor","is_read","sender_id","user_id","children","onClick","gutterBottom","variant","component","color","content"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/components/ConversationCard.js"],"sourcesContent":["import * as React from \"react\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport { CardActionArea } from \"@mui/material\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ConversationCard(props) {\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const findByUserID = async () => {\n    axios\n      .get(`${backendUrl}api/findByUserID/${props.conversation_id}`)\n      .then((response) => {\n        const message = response.data;\n        //console.log(message);\n        setName(message.first_name + \" \" + message.last_name);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  const goToConversation = (var1, var2) => {\n    navigate(`/conversation?user_id=${var1}&conversation_id=${var2}`);\n  };\n  useEffect(() => {\n    findByUserID();\n  }, []);\n\n  return (\n    <Card\n      sx={{\n        width: \"99vw\",\n        backgroundColor:\n          props.message.is_read || props.message.sender_id == props.user_id\n            ? \"white\"\n            : \"rgb(24,118,210,0.25)\",\n      }}\n    >\n      <CardActionArea\n        onClick={() => goToConversation(props.user_id, props.conversation_id)}\n      >\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\n            {name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {props.message.content}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n}\nexport default ConversationCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}