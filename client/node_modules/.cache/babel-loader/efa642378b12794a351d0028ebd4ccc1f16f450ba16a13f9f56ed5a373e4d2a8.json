{"ast":null,"code":"var _jsxFileName = \"/Users/bryansanchezandrade/Documents/box/client/src/components/UserCard.js\",\n  _s = $RefreshSig$();\nimport { Card, CardContent, Typography, CardActions, Button } from \"@mui/material\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserCard(props) {\n  _s();\n  const [following, setFollowing] = useState(false);\n  console.log(props.userFirstName);\n  const followUser = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios.post(`${backendUrl}api/newFollow`, {\n      user_id: props.result.user_id,\n      follower_id: props.userInfo,\n      created_at: currentTimestamp\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      setFollowing(true);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error posting data: \", error);\n    });\n    axios.post(`${backendUrl}api/newNotification`, {\n      user_id: props.content.user_id,\n      content: `${props.userInfo.first_name} liked your post!`,\n      created_at: currentTimestamp,\n      is_read: false\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error posting data: \", error);\n    });\n  };\n  const unfollowUser = async () => {\n    //   const currentTimestamp = new Date().toISOString();\n    axios.delete(`${backendUrl}api/unfollow`, {\n      data: {\n        user_id: props.result.user_id,\n        follower_id: props.userInfo\n      }\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      setFollowing(false);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error deleting data: \", error);\n    });\n  };\n  const isFollowing = async () => {\n    axios.get(`${backendUrl}api/following/${props.result.user_id}/${props.userInfo}`).then(response => {\n      const message = response.data.rows;\n      console.log(\"Response from server:\", message);\n      if (message.length > 0) setFollowing(true);else setFollowing(false);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  useEffect(() => {\n    isFollowing();\n  }, []);\n  if (!following) return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h4\",\n        component: \"div\",\n        children: props.result.first_name + \" \" + props.result.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"text.secondary\",\n        children: props.result.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: followUser,\n        children: \"Follow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h4\",\n        component: \"div\",\n        children: props.result.first_name + \" \" + props.result.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"text.secondary\",\n        children: props.result.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: unfollowUser,\n        children: \"Unfollow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 7\n  }, this);\n}\n_s(UserCard, \"wgMEBXifxrmxIPm9HgiIyclsB0c=\");\n_c = UserCard;\nexport default UserCard;\nvar _c;\n$RefreshReg$(_c, \"UserCard\");","map":{"version":3,"names":["Card","CardContent","Typography","CardActions","Button","useState","axios","backendUrl","useEffect","jsxDEV","_jsxDEV","UserCard","props","_s","following","setFollowing","console","log","userFirstName","followUser","currentTimestamp","Date","toISOString","post","user_id","result","follower_id","userInfo","created_at","then","response","message","data","catch","error","content","first_name","is_read","unfollowUser","delete","isFollowing","get","rows","length","style","maxWidth","children","gutterBottom","variant","component","last_name","fileName","_jsxFileName","lineNumber","columnNumber","color","username","size","onClick","_c","$RefreshReg$"],"sources":["/Users/bryansanchezandrade/Documents/box/client/src/components/UserCard.js"],"sourcesContent":["import {\n  Card,\n  CardContent,\n  Typography,\n  CardActions,\n  Button,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\n\nfunction UserCard(props) {\n  const [following, setFollowing] = useState(false);\n  console.log(props.userFirstName);\n  const followUser = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios\n      .post(`${backendUrl}api/newFollow`, {\n        user_id: props.result.user_id,\n        follower_id: props.userInfo,\n        created_at: currentTimestamp,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        setFollowing(true);\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n    axios\n      .post(`${backendUrl}api/newNotification`, {\n        user_id: props.content.user_id,\n        content: `${props.userInfo.first_name} liked your post!`,\n        created_at: currentTimestamp,\n        is_read: false,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n  };\n  const unfollowUser = async () => {\n    //   const currentTimestamp = new Date().toISOString();\n    axios\n      .delete(`${backendUrl}api/unfollow`, {\n        data: {\n          user_id: props.result.user_id,\n          follower_id: props.userInfo,\n        },\n      })\n      .then((response) => {\n        const { message } = response.data;\n        setFollowing(false);\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error deleting data: \", error);\n      });\n  };\n\n  const isFollowing = async () => {\n    axios\n      .get(\n        `${backendUrl}api/following/${props.result.user_id}/${props.userInfo}`\n      )\n      .then((response) => {\n        const message = response.data.rows;\n        console.log(\"Response from server:\", message);\n        if (message.length > 0) setFollowing(true);\n        else setFollowing(false);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  useEffect(() => {\n    isFollowing();\n  }, []);\n\n  if (!following)\n    return (\n      <Card style={{ maxWidth: \"100%\" }}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h4\" component=\"div\">\n            {props.result.first_name + \" \" + props.result.last_name}\n          </Typography>\n          <Typography variant=\"h5\" color=\"text.secondary\">\n            {props.result.username}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" onClick={followUser}>\n            Follow\n          </Button>\n        </CardActions>\n      </Card>\n    );\n  else\n    return (\n      <Card style={{ maxWidth: \"100%\" }}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h4\" component=\"div\">\n            {props.result.first_name + \" \" + props.result.last_name}\n          </Typography>\n          <Typography variant=\"h5\" color=\"text.secondary\">\n            {props.result.username}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" onClick={unfollowUser}>\n            Unfollow\n          </Button>\n        </CardActions>\n      </Card>\n    );\n}\nexport default UserCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}