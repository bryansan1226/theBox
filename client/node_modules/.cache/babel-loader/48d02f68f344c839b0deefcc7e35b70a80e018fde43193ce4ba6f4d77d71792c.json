{"ast":null,"code":"var _jsxFileName = \"/Users/bryansanchezandrade/Documents/box/client/src/components/AppBar.js\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Badge from \"@mui/material/Badge\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport AccountCircle from \"@mui/icons-material/AccountCircle\";\nimport MailIcon from \"@mui/icons-material/Mail\";\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport MoreIcon from \"@mui/icons-material/MoreVert\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\nimport Popper from \"@mui/material/Popper\";\nimport PopupState, { bindToggle, bindPopper } from \"material-ui-popup-state\";\nimport Fade from \"@mui/material/Fade\";\nimport Paper from \"@mui/material/Paper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = styled(\"div\")(({\n  theme\n}) => ({\n  position: \"relative\",\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  \"&:hover\": {\n    backgroundColor: alpha(theme.palette.common.white, 0.25)\n  },\n  marginRight: theme.spacing(2),\n  marginLeft: 0,\n  width: \"100%\",\n  [theme.breakpoints.up(\"sm\")]: {\n    marginLeft: theme.spacing(3),\n    width: \"auto\"\n  }\n}));\n_c = Search;\nconst SearchIconWrapper = styled(\"div\")(({\n  theme\n}) => ({\n  padding: theme.spacing(0, 2),\n  height: \"100%\",\n  position: \"absolute\",\n  pointerEvents: \"none\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  right: 0\n}));\n_c2 = SearchIconWrapper;\nconst StyledInputBase = styled(InputBase)(({\n  theme\n}) => ({\n  color: \"inherit\",\n  \"& .MuiInputBase-input\": {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(1)})`,\n    paddingRight: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\"\n    }\n  }\n}));\n_c3 = StyledInputBase;\nexport default function PrimarySearchAppBar(props) {\n  _s();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const [searchInput, setSearchInput] = React.useState(\"\");\n  const [newMessages, setNewMessages] = useState(0);\n  const [notifications, setNotifications] = useState([]);\n  const navigate = useNavigate();\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [userInfo, setUserInfo] = useState(null);\n  //const navigate = useNavigate();\n\n  const fetchUserInfo = async () => {\n    //  console.log(\"got to fetch\");\n    try {\n      //Retrieves token from localstorage, if no token is present the user will be redirected to /login\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        //redirect\n        navigate(\"/\");\n        return null;\n      }\n      //Makes a GET request to fetch user data using token\n      const response = await axios.get(`${backendUrl}api/user`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      // Returns user data if successful\n      return response.data;\n      //console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching user information\", error);\n      return null;\n    }\n  };\n  //Function to get user info using fetchUserInfo and updates userInfo state.\n  const getUserInfo = async () => {\n    const info = await fetchUserInfo();\n    if (info) {\n      setUserInfo(info);\n      getNewMessages(info);\n      getNotifications(info);\n      return info.first_name;\n      // console.log(\"User info \", info);\n    } else {\n      console.log(\"User not authenticated or an error occured.\");\n    }\n  };\n  //Effect hook to get user info when component mounts\n  useEffect(() => {\n    getUserInfo();\n  }, []);\n  const handleProfileMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleSearch = () => {\n    navigate(`/searchResults?searchQuery=${searchInput}&userInfo=${userInfo.user_id}`);\n  };\n  const handleEnterKeyPress = e => {\n    if (e.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n  const handleMessageClick = () => {\n    navigate(`/messages?userInfo=${userInfo.user_id}`);\n  };\n  const handleLogoClick = () => {\n    navigate(`/home`);\n  };\n  const getNewMessages = async info => {\n    await axios.get(`${backendUrl}api/getNewMessages/${info.user_id}`).then(response => {\n      const message = response.data.rows;\n      setNewMessages(message.length);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  const getNotifications = async info => {\n    await axios.get(`${backendUrl}api/getNotifications/${info.user_id}`).then(response => {\n      const message = response.data.rows;\n      setNewMessages(message);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  const handleSignOut = () => {\n    setUserInfo(null);\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n  const menuId = \"primary-search-account-menu\";\n  const renderMenu = /*#__PURE__*/_jsxDEV(Menu, {\n    anchorEl: anchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: menuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMenuOpen,\n    onClose: handleMenuClose,\n    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: handleMenuClose,\n      children: \"Profile (Future feature)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: handleMenuClose,\n      children: \"My account (Future feature)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: handleSignOut,\n      children: \"Sign Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = /*#__PURE__*/_jsxDEV(Menu, {\n    anchorEl: mobileMoreAnchorEl,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    id: mobileMenuId,\n    keepMounted: true,\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: isMobileMenuOpen,\n    onClose: handleMobileMenuClose,\n    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: handleMessageClick,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"large\",\n        \"aria-label\": \"show new mails\",\n        color: \"inherit\",\n        children: /*#__PURE__*/_jsxDEV(Badge, {\n          badgeContent: newMessages,\n          color: \"error\",\n          children: /*#__PURE__*/_jsxDEV(MailIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"large\",\n        \"aria-label\": \"show new notifications\",\n        color: \"inherit\",\n        children: /*#__PURE__*/_jsxDEV(Badge, {\n          badgeContent: 17,\n          color: \"error\",\n          children: /*#__PURE__*/_jsxDEV(NotificationsIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Notifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: handleSignOut,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"large\",\n        \"aria-label\": \"account of current user\",\n        \"aria-controls\": \"primary-search-account-menu\",\n        \"aria-haspopup\": \"true\",\n        color: \"inherit\",\n        children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"large\",\n          edge: \"start\",\n          color: \"inherit\",\n          \"aria-label\": \"open drawer\",\n          sx: {\n            mr: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          component: \"div\",\n          sx: {\n            display: {\n              xs: \"none\",\n              sm: \"block\"\n            },\n            cursor: \"pointer\"\n          },\n          onClick: handleLogoClick,\n          children: \"The Box\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Search, {\n          children: [/*#__PURE__*/_jsxDEV(SearchIconWrapper, {\n            onClick: handleSearch,\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n              onClick: handleSearch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledInputBase, {\n            placeholder: \"Search\\u2026\",\n            inputProps: {\n              \"aria-label\": \"search\"\n            },\n            onChange: e => setSearchInput(e.target.value),\n            onKeyDown: handleEnterKeyPress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: {\n              xs: \"none\",\n              md: \"flex\"\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"large\",\n            \"aria-label\": \"show 4 new mails\",\n            color: \"inherit\",\n            onClick: handleMessageClick,\n            children: /*#__PURE__*/_jsxDEV(Badge, {\n              badgeContent: newMessages,\n              color: \"error\",\n              children: /*#__PURE__*/_jsxDEV(MailIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PopupState, {\n            variant: \"popper\",\n            popupId: \"demo-popup-popper\",\n            children: popupState => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"large\",\n                \"aria-label\": \"show 17 new notifications\",\n                color: \"inherit\",\n                ...bindToggle(popupState),\n                children: /*#__PURE__*/_jsxDEV(Badge, {\n                  badgeContent: 17,\n                  color: \"error\",\n                  children: /*#__PURE__*/_jsxDEV(NotificationsIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Popper, {\n                ...bindPopper(popupState),\n                transition: true,\n                children: ({\n                  TransitionProps\n                }) => /*#__PURE__*/_jsxDEV(Fade, {\n                  ...TransitionProps,\n                  timeout: 350,\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    children: /*#__PURE__*/_jsxDEV(Paper, {\n                      sx: {\n                        width: \"30vw\",\n                        height: \"20vh\",\n                        maxHeight: \"50vh\",\n                        overflow: \"auto\"\n                      },\n                      children: \"Notifications\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"large\",\n            edge: \"end\",\n            \"aria-label\": \"account of current user\",\n            \"aria-controls\": menuId,\n            \"aria-haspopup\": \"true\",\n            onClick: handleProfileMenuOpen,\n            color: \"inherit\",\n            children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: {\n              xs: \"flex\",\n              md: \"none\"\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"large\",\n            \"aria-label\": \"show more\",\n            \"aria-controls\": mobileMenuId,\n            \"aria-haspopup\": \"true\",\n            onClick: handleMobileMenuOpen,\n            color: \"inherit\",\n            children: /*#__PURE__*/_jsxDEV(MoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), renderMobileMenu, renderMenu]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n}\n_s(PrimarySearchAppBar, \"KmA8QbHRa4NEeIji85iR8P83tRw=\", false, function () {\n  return [useNavigate];\n});\n_c4 = PrimarySearchAppBar;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Search\");\n$RefreshReg$(_c2, \"SearchIconWrapper\");\n$RefreshReg$(_c3, \"StyledInputBase\");\n$RefreshReg$(_c4, \"PrimarySearchAppBar\");","map":{"version":3,"names":["React","styled","alpha","AppBar","Box","Toolbar","IconButton","Typography","InputBase","Badge","MenuItem","Menu","MenuIcon","SearchIcon","AccountCircle","MailIcon","NotificationsIcon","MoreIcon","useNavigate","useState","axios","backendUrl","useEffect","Popper","PopupState","bindToggle","bindPopper","Fade","Paper","jsxDEV","_jsxDEV","Search","theme","position","borderRadius","shape","backgroundColor","palette","common","white","marginRight","spacing","marginLeft","width","breakpoints","up","_c","SearchIconWrapper","padding","height","pointerEvents","display","alignItems","justifyContent","right","_c2","StyledInputBase","color","paddingLeft","paddingRight","transition","transitions","create","_c3","PrimarySearchAppBar","props","_s","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","searchInput","setSearchInput","newMessages","setNewMessages","notifications","setNotifications","navigate","isMenuOpen","Boolean","isMobileMenuOpen","userInfo","setUserInfo","fetchUserInfo","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","getUserInfo","info","getNewMessages","getNotifications","first_name","log","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","handleMobileMenuOpen","handleSearch","user_id","handleEnterKeyPress","e","key","handleMessageClick","handleLogoClick","then","message","rows","length","catch","handleSignOut","removeItem","menuId","renderMenu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","mobileMenuId","renderMobileMenu","size","badgeContent","sx","flexGrow","edge","mr","variant","noWrap","component","xs","sm","cursor","placeholder","inputProps","onChange","target","value","onKeyDown","md","popupId","popupState","TransitionProps","timeout","maxHeight","overflow","_c4","$RefreshReg$"],"sources":["/Users/bryansanchezandrade/Documents/box/client/src/components/AppBar.js"],"sourcesContent":["import * as React from \"react\";\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Badge from \"@mui/material/Badge\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport AccountCircle from \"@mui/icons-material/AccountCircle\";\nimport MailIcon from \"@mui/icons-material/Mail\";\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport MoreIcon from \"@mui/icons-material/MoreVert\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\nimport Popper from \"@mui/material/Popper\";\nimport PopupState, { bindToggle, bindPopper } from \"material-ui-popup-state\";\nimport Fade from \"@mui/material/Fade\";\nimport Paper from \"@mui/material/Paper\";\n\nconst Search = styled(\"div\")(({ theme }) => ({\n  position: \"relative\",\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  \"&:hover\": {\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\n  },\n  marginRight: theme.spacing(2),\n  marginLeft: 0,\n  width: \"100%\",\n  [theme.breakpoints.up(\"sm\")]: {\n    marginLeft: theme.spacing(3),\n    width: \"auto\",\n  },\n}));\n\nconst SearchIconWrapper = styled(\"div\")(({ theme }) => ({\n  padding: theme.spacing(0, 2),\n  height: \"100%\",\n  position: \"absolute\",\n  pointerEvents: \"none\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  right: 0,\n}));\n\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\n  color: \"inherit\",\n  \"& .MuiInputBase-input\": {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(1)})`,\n    paddingRight: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n  const [searchInput, setSearchInput] = React.useState(\"\");\n  const [newMessages, setNewMessages] = useState(0);\n  const [notifications, setNotifications] = useState([]);\n  const navigate = useNavigate();\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n  const [userInfo, setUserInfo] = useState(null);\n  //const navigate = useNavigate();\n\n  const fetchUserInfo = async () => {\n    //  console.log(\"got to fetch\");\n    try {\n      //Retrieves token from localstorage, if no token is present the user will be redirected to /login\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        //redirect\n        navigate(\"/\");\n        return null;\n      }\n      //Makes a GET request to fetch user data using token\n      const response = await axios.get(`${backendUrl}api/user`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      // Returns user data if successful\n      return response.data;\n      //console.log(response.data);\n    } catch (error) {\n      console.error(\"Error fetching user information\", error);\n      return null;\n    }\n  };\n  //Function to get user info using fetchUserInfo and updates userInfo state.\n  const getUserInfo = async () => {\n    const info = await fetchUserInfo();\n    if (info) {\n      setUserInfo(info);\n      getNewMessages(info);\n      getNotifications(info);\n      return info.first_name;\n      // console.log(\"User info \", info);\n    } else {\n      console.log(\"User not authenticated or an error occured.\");\n    }\n  };\n  //Effect hook to get user info when component mounts\n  useEffect(() => {\n    getUserInfo();\n  }, []);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleSearch = () => {\n    navigate(\n      `/searchResults?searchQuery=${searchInput}&userInfo=${userInfo.user_id}`\n    );\n  };\n  const handleEnterKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n  const handleMessageClick = () => {\n    navigate(`/messages?userInfo=${userInfo.user_id}`);\n  };\n  const handleLogoClick = () => {\n    navigate(`/home`);\n  };\n  const getNewMessages = async (info) => {\n    await axios\n      .get(`${backendUrl}api/getNewMessages/${info.user_id}`)\n      .then((response) => {\n        const message = response.data.rows;\n        setNewMessages(message.length);\n\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  const getNotifications = async (info) => {\n    await axios\n      .get(`${backendUrl}api/getNotifications/${info.user_id}`)\n      .then((response) => {\n        const message = response.data.rows;\n        setNewMessages(message);\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n\n  const handleSignOut = () => {\n    setUserInfo(null);\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n\n  const menuId = \"primary-search-account-menu\";\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={handleMenuClose}>Profile (Future feature)</MenuItem>\n      <MenuItem onClick={handleMenuClose}>My account (Future feature)</MenuItem>\n      <MenuItem onClick={handleSignOut}>Sign Out</MenuItem>\n    </Menu>\n  );\n\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{\n        vertical: \"top\",\n        horizontal: \"right\",\n      }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleMessageClick}>\n        <IconButton size=\"large\" aria-label=\"show new mails\" color=\"inherit\">\n          <Badge badgeContent={newMessages} color=\"error\">\n            <MailIcon />\n          </Badge>\n        </IconButton>\n        <p>Messages</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton\n          size=\"large\"\n          aria-label=\"show new notifications\"\n          color=\"inherit\"\n        >\n          <Badge badgeContent={17} color=\"error\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleSignOut}>\n        <IconButton\n          size=\"large\"\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Sign Out</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            sx={{ mr: 2 }}\n          >\n            {/*<MenuIcon />*/}\n          </IconButton>\n          <Typography\n            variant=\"h6\"\n            noWrap\n            component=\"div\"\n            sx={{ display: { xs: \"none\", sm: \"block\" }, cursor: \"pointer\" }}\n            onClick={handleLogoClick}\n          >\n            The Box\n          </Typography>\n          <Search>\n            <SearchIconWrapper onClick={handleSearch}>\n              <SearchIcon onClick={handleSearch} />\n            </SearchIconWrapper>\n            <StyledInputBase\n              placeholder=\"Searchâ€¦\"\n              inputProps={{ \"aria-label\": \"search\" }}\n              onChange={(e) => setSearchInput(e.target.value)}\n              onKeyDown={handleEnterKeyPress}\n            />\n          </Search>\n          <Box sx={{ flexGrow: 1 }} />\n          <Box sx={{ display: { xs: \"none\", md: \"flex\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"show 4 new mails\"\n              color=\"inherit\"\n              onClick={handleMessageClick}\n            >\n              <Badge badgeContent={newMessages} color=\"error\">\n                <MailIcon />\n              </Badge>\n            </IconButton>\n\n            <PopupState variant=\"popper\" popupId=\"demo-popup-popper\">\n              {(popupState) => (\n                <div>\n                  <IconButton\n                    size=\"large\"\n                    aria-label=\"show 17 new notifications\"\n                    color=\"inherit\"\n                    {...bindToggle(popupState)}\n                  >\n                    <Badge badgeContent={17} color=\"error\">\n                      <NotificationsIcon />\n                    </Badge>\n                  </IconButton>\n                  <Popper {...bindPopper(popupState)} transition>\n                    {({ TransitionProps }) => (\n                      <Fade {...TransitionProps} timeout={350}>\n                        <Box>\n                          <Paper\n                            sx={{\n                              width: \"30vw\",\n                              height: \"20vh\",\n                              maxHeight: \"50vh\",\n                              overflow: \"auto\",\n                            }}\n                          >\n                            Notifications\n                          </Paper>\n                        </Box>\n                      </Fade>\n                    )}\n                  </Popper>\n                </div>\n              )}\n            </PopupState>\n            <IconButton\n              size=\"large\"\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </Box>\n          <Box sx={{ display: { xs: \"flex\", md: \"none\" } }}>\n            <IconButton\n              size=\"large\"\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}