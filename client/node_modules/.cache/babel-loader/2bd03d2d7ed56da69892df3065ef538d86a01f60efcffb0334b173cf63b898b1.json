{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Typography,Container}from\"@mui/material\";import AppBar from\"../components/AppBar\";import Notifications from\"../components/Notifications\";import{useLocation}from\"react-router-dom\";import{useState}from\"react\";import{useEffect}from\"react\";import axios from\"axios\";import backendUrl from\"../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NotificationsPage(){var _useLocation=useLocation(),search=_useLocation.search;var queryParams=new URLSearchParams(search);var searchQuery=queryParams.get(\"searchQuery\");var userInfo=queryParams.get(\"userInfo\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notifications=_useState2[0],setNotifications=_useState2[1];console.log(userInfo);var getNotifications=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(backendUrl,\"api/getNotifications/\").concat(userInfo)).then(function(response){var message=response.data.rows;setNotifications(message.sort(function(a,b){var timeStampA=new Date(a.created_at).getTime();var timeStampB=new Date(b.created_at).getTime();return timeStampB-timeStampA;}));console.log(\"Response from server:\",message);}).catch(function(error){console.error(\"Error fetching data: \",error);});case 2:case\"end\":return _context.stop();}},_callee);}));return function getNotifications(){return _ref.apply(this,arguments);};}();useEffect(function(){getNotifications();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsxs(Container,{sx:{minWidth:\"100vw\",minHeight:\"90vh\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Notifications\"}),/*#__PURE__*/_jsx(Notifications,{content:notifications})]})]});}export default NotificationsPage;","map":{"version":3,"names":["Typography","Container","AppBar","Notifications","useLocation","useState","useEffect","axios","backendUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NotificationsPage","_useLocation","search","queryParams","URLSearchParams","searchQuery","get","userInfo","_useState","_useState2","_slicedToArray","notifications","setNotifications","console","log","getNotifications","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","concat","then","response","message","data","rows","sort","a","b","timeStampA","Date","created_at","getTime","timeStampB","catch","error","stop","apply","arguments","children","sx","minWidth","minHeight","variant","content"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/pages/NotificationsPage.js"],"sourcesContent":["import { Typography, Container } from \"@mui/material\";\nimport AppBar from \"../components/AppBar\";\nimport Notifications from \"../components/Notifications\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\n\nfunction NotificationsPage() {\n  const { search } = useLocation();\n  const queryParams = new URLSearchParams(search);\n  const searchQuery = queryParams.get(\"searchQuery\");\n  const userInfo = queryParams.get(\"userInfo\");\n  const [notifications, setNotifications] = useState([]);\n  console.log(userInfo);\n  const getNotifications = async () => {\n    await axios\n      .get(`${backendUrl}api/getNotifications/${userInfo}`)\n      .then((response) => {\n        const message = response.data.rows;\n        setNotifications(\n          message.sort((a, b) => {\n            const timeStampA = new Date(a.created_at).getTime();\n            const timeStampB = new Date(b.created_at).getTime();\n            return timeStampB - timeStampA;\n          })\n        );\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  useEffect(() => {\n    getNotifications();\n  }, []);\n  return (\n    <>\n      <AppBar />\n      <Container\n        sx={{\n          minWidth: \"100vw\",\n          minHeight: \"90vh\",\n        }}\n      >\n        <Typography variant=\"h4\">Notifications</Typography>\n        <Notifications content={notifications} />\n      </Container>\n    </>\n  );\n}\nexport default NotificationsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}