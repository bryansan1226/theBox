{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Card,CardContent,Typography,CardActions,Button}from\"@mui/material\";import axios from\"axios\";import backendUrl from\"../config\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Notifications(props){var setNotificationsAsRead=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var anyUnread;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return checkIfUnread(props.content);case 2:anyUnread=_context.sent;console.log(anyUnread);if(!anyUnread){_context.next=7;break;}_context.next=7;return axios.put(\"\".concat(backendUrl,\"api/setNotificationsAsRead\"),{user_id:props.content[0].user_id}).then(function(response){var message=response.data.message;console.log(\"Response from server:\",message);}).catch(function(error){console.error(\"Error posting data: \",error);});case 7:case\"end\":return _context.stop();}},_callee);}));return function setNotificationsAsRead(){return _ref.apply(this,arguments);};}();var checkIfUnread=function checkIfUnread(arr){var result=false;var _iterator=_createForOfIteratorHelper(arr),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var i=_step.value;if(!i.is_read){result=true;break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;};useEffect(function(){setNotificationsAsRead();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:props.content.map(function(notification,index){return/*#__PURE__*/_jsx(Card,{sx:{margin:\"1vh\",backgroundColor:notification.is_read?\"white\":\"rgb(24,118,210,0.25)\",width:\"95%\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:notification.content})})},index);})});}export default Notifications;","map":{"version":3,"names":["Card","CardContent","Typography","CardActions","Button","axios","backendUrl","useEffect","jsx","_jsx","Fragment","_Fragment","Notifications","props","setNotificationsAsRead","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","anyUnread","wrap","_callee$","_context","prev","next","checkIfUnread","content","sent","console","log","put","concat","user_id","then","response","message","data","catch","error","stop","apply","arguments","arr","result","_iterator","_createForOfIteratorHelper","_step","s","n","done","i","value","is_read","err","e","f","children","map","notification","index","sx","margin","backgroundColor","width","variant"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/components/Notifications.js"],"sourcesContent":["import {\n  Card,\n  CardContent,\n  Typography,\n  CardActions,\n  Button,\n} from \"@mui/material\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\n\nfunction Notifications(props) {\n  const setNotificationsAsRead = async () => {\n    const anyUnread = await checkIfUnread(props.content);\n    console.log(anyUnread);\n    if (anyUnread) {\n      await axios\n        .put(`${backendUrl}api/setNotificationsAsRead`, {\n          user_id: props.content[0].user_id,\n        })\n        .then((response) => {\n          const { message } = response.data;\n          console.log(\"Response from server:\", message);\n        })\n        .catch((error) => {\n          console.error(\"Error posting data: \", error);\n        });\n    }\n  };\n  const checkIfUnread = (arr) => {\n    let result = false;\n    for (let i of arr) {\n      if (!i.is_read) {\n        result = true;\n        break;\n      }\n    }\n    return result;\n  };\n  useEffect(() => {\n    setNotificationsAsRead();\n  }, []);\n  return (\n    <>\n      {props.content.map((notification, index) => (\n        <Card\n          key={index}\n          sx={{\n            margin: \"1vh\",\n            backgroundColor: notification.is_read\n              ? \"white\"\n              : \"rgb(24,118,210,0.25)\",\n            width: \"95%\",\n          }}\n        >\n          <CardContent>\n            <Typography variant=\"body2\">{notification.content}</Typography>\n          </CardContent>\n        </Card>\n      ))}\n    </>\n  );\n}\nexport default Notifications;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}