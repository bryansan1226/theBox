{"ast":null,"code":"import _slicedToArray from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Card,CardActions,CardContent}from\"@mui/material\";import TextField from\"@mui/material/TextField\";import{useState}from\"react\";import axios from\"axios\";import backendUrl from\"../config\";import{Button}from\"@mui/material\";import Typography from\"@mui/material/Typography\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewPostForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newPostText=_useState2[0],setNewPostText=_useState2[1];var handleNewPostText=function handleNewPostText(event){var inputValue=event.target.value;setNewPostText(inputValue);};var handleNewPost=function handleNewPost(event){var currentTimestamp=new Date().toISOString();axios.post(\"\".concat(backendUrl,\"api/newPost\"),{user_id:props.userInfo.user_id,content:newPostText,media:null,created_at:currentTimestamp}).then(function(response){var message=response.data.message;console.log(\"Response from server:\",message);props.getUserPosts();setNewPostText(\"\");}).catch(function(error){console.error(\"Error posting data: \",error);});};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"New Post:\"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-multiline-static\",label:\"\",multiline:true,rows:4,fullWidth:true,onChange:handleNewPostText,value:newPostText})]})}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:handleNewPost,children:\"Post\"})})]});}export default NewPostForm;","map":{"version":3,"names":["Card","CardActions","CardContent","TextField","useState","axios","backendUrl","Button","Typography","jsx","_jsx","jsxs","_jsxs","NewPostForm","props","_useState","_useState2","_slicedToArray","newPostText","setNewPostText","handleNewPostText","event","inputValue","target","value","handleNewPost","currentTimestamp","Date","toISOString","post","concat","user_id","userInfo","content","media","created_at","then","response","message","data","console","log","getUserPosts","catch","error","children","variant","gutterBottom","id","label","multiline","rows","fullWidth","onChange","size","onClick"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/components/NewPostForm.js"],"sourcesContent":["import { Card, CardActions, CardContent } from \"@mui/material\";\nimport TextField from \"@mui/material/TextField\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { Button } from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\n\nfunction NewPostForm(props) {\n  const [newPostText, setNewPostText] = useState(\"\");\n\n  const handleNewPostText = (event) => {\n    const inputValue = event.target.value;\n    setNewPostText(inputValue);\n  };\n\n  const handleNewPost = (event) => {\n    const currentTimestamp = new Date().toISOString();\n    axios\n      .post(`${backendUrl}api/newPost`, {\n        user_id: props.userInfo.user_id,\n        content: newPostText,\n        media: null,\n        created_at: currentTimestamp,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        console.log(\"Response from server:\", message);\n        props.getUserPosts();\n        setNewPostText(\"\");\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <div>\n          <Typography variant=\"h5\" gutterBottom>\n            New Post:\n          </Typography>\n          <TextField\n            id=\"outlined-multiline-static\"\n            label=\"\"\n            multiline\n            rows={4}\n            fullWidth\n            onChange={handleNewPostText}\n            value={newPostText}\n          />\n        </div>\n      </CardContent>\n      <CardActions>\n        <Button variant=\"contained\" size=\"small\" onClick={handleNewPost}>\n          Post\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\nexport default NewPostForm;\n"],"mappings":"wIAAA,OAASA,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,eAAe,CAC9D,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,WAAW,CAClC,OAASC,MAAM,KAAQ,eAAe,CACtC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAC1B,IAAAC,SAAA,CAAsCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAElC,GAAM,CAAAI,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,KAAK,CAAK,CACnC,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCL,cAAc,CAACG,UAAU,CAAC,CAC5B,CAAC,CAED,GAAM,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIJ,KAAK,CAAK,CAC/B,GAAM,CAAAK,gBAAgB,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACjDvB,KAAK,CACFwB,IAAI,IAAAC,MAAA,CAAIxB,UAAU,gBAAe,CAChCyB,OAAO,CAAEjB,KAAK,CAACkB,QAAQ,CAACD,OAAO,CAC/BE,OAAO,CAAEf,WAAW,CACpBgB,KAAK,CAAE,IAAI,CACXC,UAAU,CAAET,gBACd,CAAC,CAAC,CACDU,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAQ,CAAAC,OAAO,CAAKD,QAAQ,CAACE,IAAI,CAAzBD,OAAO,CACfE,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEH,OAAO,CAAC,CAC7CxB,KAAK,CAAC4B,YAAY,CAAC,CAAC,CACpBvB,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,CAAC,CACDwB,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBJ,OAAO,CAACI,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC,CAED,mBACEhC,KAAA,CAACZ,IAAI,EAAA6C,QAAA,eACHnC,IAAA,CAACR,WAAW,EAAA2C,QAAA,cACVjC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,CAACF,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,WAEtC,CAAY,CAAC,cACbnC,IAAA,CAACP,SAAS,EACR6C,EAAE,CAAC,2BAA2B,CAC9BC,KAAK,CAAC,EAAE,CACRC,SAAS,MACTC,IAAI,CAAE,CAAE,CACRC,SAAS,MACTC,QAAQ,CAAEjC,iBAAkB,CAC5BI,KAAK,CAAEN,WAAY,CACpB,CAAC,EACC,CAAC,CACK,CAAC,cACdR,IAAA,CAACT,WAAW,EAAA4C,QAAA,cACVnC,IAAA,CAACH,MAAM,EAACuC,OAAO,CAAC,WAAW,CAACQ,IAAI,CAAC,OAAO,CAACC,OAAO,CAAE9B,aAAc,CAAAoB,QAAA,CAAC,MAEjE,CAAQ,CAAC,CACE,CAAC,EACV,CAAC,CAEX,CACA,cAAe,CAAAhC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}