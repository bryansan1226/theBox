{"ast":null,"code":"import _slicedToArray from\"/Users/bryansanchezandrade/Documents/theBox/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from\"@mui/material/Card\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import Button from\"@mui/material/Button\";import TextField from\"@mui/material/TextField\";import React,{useState}from\"react\";import axios from\"axios\";import backendUrl from\"../config\";import{useNavigate}from\"react-router-dom\";import CloseIcon from\"@mui/icons-material/Close\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NewAccountForm(props){//Declaring variables for user input and handling navigation to homepage after user creates account\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var handleFirstName=function handleFirstName(event){var inputValue=event.target.value;setFirstName(inputValue);};var handleLastName=function handleLastName(event){var inputValue=event.target.value;setLastName(inputValue);};var handleUsername=function handleUsername(event){var inputValue=event.target.value;setUsername(inputValue);};var handleEmail=function handleEmail(event){var inputValue=event.target.value;setEmail(inputValue);};var handlePassword=function handlePassword(event){var inputValue=event.target.value;setPassword(inputValue);};var navigate=useNavigate();/*This handles form submission.\n  Gets the current timestamp, and then makes an API POST request to create an account. \n  It sends all the inputted data (firstName, lastName...) along with the timestamp to the backend. \n  If the request is successful, the backend with send a response that contains a token. This token is set in localstorage\n  and the user is then navigated to /home. and the NewAccountForm component is closed. \n  */var handleSubmit=function handleSubmit(event){var currentTimestamp=new Date().toISOString();event.preventDefault();axios.post(\"\".concat(backendUrl,\"api/createAccount\"),{firstName:firstName,lastName:lastName,username:username,email:email,password:password,timestamp:currentTimestamp}).then(function(response){var _response$data=response.data,token=_response$data.token,message=_response$data.message;console.log(\"Response from server:\",message);localStorage.setItem(\"token\",token);navigate(\"/home\");}).catch(function(error){console.error(\"Error posting data: \",error);});props.handleClose();};var textFieldStyle={margin:\"8px 0\"};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card,{sx:{minWidth:275},children:[/*#__PURE__*/_jsxs(CardContent,{sx:{display:\"flex\",flexDirection:\"column\",marginLeft:\"2%\",marginRight:\"2%\"},children:[/*#__PURE__*/_jsx(Button,{sx:{alignSelf:\"flex-end\"},onClick:props.handleClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"firstName\",onChange:handleFirstName,label:\"First name\",sx:textFieldStyle}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"lastName\",onChange:handleLastName,label:\"Last name\",sx:textFieldStyle}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"username\",onChange:handleUsername,label:\"Username\",sx:textFieldStyle}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"email\",onChange:handleEmail,label:\"E-Mail\",sx:textFieldStyle}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"password\",type:\"password\",onChange:handlePassword,label:\"Password\",sx:textFieldStyle})]}),/*#__PURE__*/_jsx(CardActions,{sx:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:handleSubmit,children:\"Create Account\"})})]})});}export default NewAccountForm;","map":{"version":3,"names":["Card","CardActions","CardContent","Button","TextField","React","useState","axios","backendUrl","useNavigate","CloseIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewAccountForm","props","_useState","_useState2","_slicedToArray","firstName","setFirstName","_useState3","_useState4","lastName","setLastName","_useState5","_useState6","username","setUsername","_useState7","_useState8","email","setEmail","_useState9","_useState10","password","setPassword","handleFirstName","event","inputValue","target","value","handleLastName","handleUsername","handleEmail","handlePassword","navigate","handleSubmit","currentTimestamp","Date","toISOString","preventDefault","post","concat","timestamp","then","response","_response$data","data","token","message","console","log","localStorage","setItem","catch","error","handleClose","textFieldStyle","margin","children","sx","minWidth","display","flexDirection","marginLeft","marginRight","alignSelf","onClick","required","id","onChange","label","type","justifyContent","variant","size"],"sources":["/Users/bryansanchezandrade/Documents/theBox/client/src/components/NewAccountForm.js"],"sourcesContent":["import Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useNavigate } from \"react-router-dom\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nfunction NewAccountForm(props) {\n  //Declaring variables for user input and handling navigation to homepage after user creates account\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleFirstName = (event) => {\n    const inputValue = event.target.value;\n    setFirstName(inputValue);\n  };\n  const handleLastName = (event) => {\n    const inputValue = event.target.value;\n    setLastName(inputValue);\n  };\n  const handleUsername = (event) => {\n    const inputValue = event.target.value;\n    setUsername(inputValue);\n  };\n  const handleEmail = (event) => {\n    const inputValue = event.target.value;\n    setEmail(inputValue);\n  };\n  const handlePassword = (event) => {\n    const inputValue = event.target.value;\n    setPassword(inputValue);\n  };\n  const navigate = useNavigate();\n  /*This handles form submission.\n  Gets the current timestamp, and then makes an API POST request to create an account. \n  It sends all the inputted data (firstName, lastName...) along with the timestamp to the backend. \n  If the request is successful, the backend with send a response that contains a token. This token is set in localstorage\n  and the user is then navigated to /home. and the NewAccountForm component is closed. \n  */\n  const handleSubmit = (event) => {\n    const currentTimestamp = new Date().toISOString();\n    event.preventDefault();\n    axios\n      .post(`${backendUrl}api/createAccount`, {\n        firstName: firstName,\n        lastName: lastName,\n        username: username,\n        email: email,\n        password: password,\n        timestamp: currentTimestamp,\n      })\n      .then((response) => {\n        const { token, message } = response.data;\n        console.log(\"Response from server:\", message);\n        localStorage.setItem(\"token\", token);\n        navigate(\"/home\");\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n    props.handleClose();\n  };\n  const textFieldStyle = { margin: \"8px 0\" };\n\n  return (\n    <>\n      <Card sx={{ minWidth: 275 }}>\n        <CardContent\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginLeft: \"2%\",\n            marginRight: \"2%\",\n          }}\n        >\n          <Button sx={{ alignSelf: \"flex-end\" }} onClick={props.handleClose}>\n            <CloseIcon />\n          </Button>\n\n          <TextField\n            required\n            id=\"firstName\"\n            onChange={handleFirstName}\n            label=\"First name\"\n            sx={textFieldStyle}\n          />\n          <TextField\n            required\n            id=\"lastName\"\n            onChange={handleLastName}\n            label=\"Last name\"\n            sx={textFieldStyle}\n          />\n          <TextField\n            required\n            id=\"username\"\n            onChange={handleUsername}\n            label=\"Username\"\n            sx={textFieldStyle}\n          />\n          <TextField\n            required\n            id=\"email\"\n            onChange={handleEmail}\n            label=\"E-Mail\"\n            sx={textFieldStyle}\n          />\n          <TextField\n            required\n            id=\"password\"\n            type=\"password\"\n            onChange={handlePassword}\n            label=\"Password\"\n            sx={textFieldStyle}\n          />\n        </CardContent>\n        <CardActions\n          sx={{\n            display: \"flex\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Button variant=\"contained\" size=\"small\" onClick={handleSubmit}>\n            Create Account\n          </Button>\n        </CardActions>\n      </Card>\n    </>\n  );\n}\nexport default NewAccountForm;\n"],"mappings":"wIAAA,MAAO,CAAAA,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,WAAW,CAClC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElD,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,CAC7B;AACA,IAAAC,SAAA,CAAkCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAgClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAgCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA0B1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgC9B,QAAQ,CAAC,EAAE,CAAC,CAAA+B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAArCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAE5B,GAAM,CAAAG,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIC,KAAK,CAAK,CACjC,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCrB,YAAY,CAACmB,UAAU,CAAC,CAC1B,CAAC,CACD,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIJ,KAAK,CAAK,CAChC,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCjB,WAAW,CAACe,UAAU,CAAC,CACzB,CAAC,CACD,GAAM,CAAAI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIL,KAAK,CAAK,CAChC,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCb,WAAW,CAACW,UAAU,CAAC,CACzB,CAAC,CACD,GAAM,CAAAK,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIN,KAAK,CAAK,CAC7B,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCT,QAAQ,CAACO,UAAU,CAAC,CACtB,CAAC,CACD,GAAM,CAAAM,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIP,KAAK,CAAK,CAChC,GAAM,CAAAC,UAAU,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACrCL,WAAW,CAACG,UAAU,CAAC,CACzB,CAAC,CACD,GAAM,CAAAO,QAAQ,CAAGxC,WAAW,CAAC,CAAC,CAC9B;AACF;AACA;AACA;AACA;AACA,IACE,GAAM,CAAAyC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIT,KAAK,CAAK,CAC9B,GAAM,CAAAU,gBAAgB,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACjDZ,KAAK,CAACa,cAAc,CAAC,CAAC,CACtB/C,KAAK,CACFgD,IAAI,IAAAC,MAAA,CAAIhD,UAAU,sBAAqB,CACtCc,SAAS,CAAEA,SAAS,CACpBI,QAAQ,CAAEA,QAAQ,CAClBI,QAAQ,CAAEA,QAAQ,CAClBI,KAAK,CAAEA,KAAK,CACZI,QAAQ,CAAEA,QAAQ,CAClBmB,SAAS,CAAEN,gBACb,CAAC,CAAC,CACDO,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,IAAAC,cAAA,CAA2BD,QAAQ,CAACE,IAAI,CAAhCC,KAAK,CAAAF,cAAA,CAALE,KAAK,CAAEC,OAAO,CAAAH,cAAA,CAAPG,OAAO,CACtBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEF,OAAO,CAAC,CAC7CG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,KAAK,CAAC,CACpCb,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAAC,CACDmB,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBL,OAAO,CAACK,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACJnD,KAAK,CAACoD,WAAW,CAAC,CAAC,CACrB,CAAC,CACD,GAAM,CAAAC,cAAc,CAAG,CAAEC,MAAM,CAAE,OAAQ,CAAC,CAE1C,mBACE5D,IAAA,CAAAI,SAAA,EAAAyD,QAAA,cACE3D,KAAA,CAACd,IAAI,EAAC0E,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAF,QAAA,eAC1B3D,KAAA,CAACZ,WAAW,EACVwE,EAAE,CAAE,CACFE,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,IAAI,CAChBC,WAAW,CAAE,IACf,CAAE,CAAAN,QAAA,eAEF7D,IAAA,CAACT,MAAM,EAACuE,EAAE,CAAE,CAAEM,SAAS,CAAE,UAAW,CAAE,CAACC,OAAO,CAAE/D,KAAK,CAACoD,WAAY,CAAAG,QAAA,cAChE7D,IAAA,CAACF,SAAS,GAAE,CAAC,CACP,CAAC,cAETE,IAAA,CAACR,SAAS,EACR8E,QAAQ,MACRC,EAAE,CAAC,WAAW,CACdC,QAAQ,CAAE5C,eAAgB,CAC1B6C,KAAK,CAAC,YAAY,CAClBX,EAAE,CAAEH,cAAe,CACpB,CAAC,cACF3D,IAAA,CAACR,SAAS,EACR8E,QAAQ,MACRC,EAAE,CAAC,UAAU,CACbC,QAAQ,CAAEvC,cAAe,CACzBwC,KAAK,CAAC,WAAW,CACjBX,EAAE,CAAEH,cAAe,CACpB,CAAC,cACF3D,IAAA,CAACR,SAAS,EACR8E,QAAQ,MACRC,EAAE,CAAC,UAAU,CACbC,QAAQ,CAAEtC,cAAe,CACzBuC,KAAK,CAAC,UAAU,CAChBX,EAAE,CAAEH,cAAe,CACpB,CAAC,cACF3D,IAAA,CAACR,SAAS,EACR8E,QAAQ,MACRC,EAAE,CAAC,OAAO,CACVC,QAAQ,CAAErC,WAAY,CACtBsC,KAAK,CAAC,QAAQ,CACdX,EAAE,CAAEH,cAAe,CACpB,CAAC,cACF3D,IAAA,CAACR,SAAS,EACR8E,QAAQ,MACRC,EAAE,CAAC,UAAU,CACbG,IAAI,CAAC,UAAU,CACfF,QAAQ,CAAEpC,cAAe,CACzBqC,KAAK,CAAC,UAAU,CAChBX,EAAE,CAAEH,cAAe,CACpB,CAAC,EACS,CAAC,cACd3D,IAAA,CAACX,WAAW,EACVyE,EAAE,CAAE,CACFE,OAAO,CAAE,MAAM,CACfW,cAAc,CAAE,QAClB,CAAE,CAAAd,QAAA,cAEF7D,IAAA,CAACT,MAAM,EAACqF,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,OAAO,CAACR,OAAO,CAAE/B,YAAa,CAAAuB,QAAA,CAAC,gBAEhE,CAAQ,CAAC,CACE,CAAC,EACV,CAAC,CACP,CAAC,CAEP,CACA,cAAe,CAAAxD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}