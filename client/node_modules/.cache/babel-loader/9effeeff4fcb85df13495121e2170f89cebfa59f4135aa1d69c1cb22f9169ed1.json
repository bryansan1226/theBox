{"ast":null,"code":"var _jsxFileName = \"/Users/bryansanchezandrade/Documents/box/client/src/components/UserCard.js\",\n  _s = $RefreshSig$();\nimport { Card, CardContent, Typography, CardActions, Button } from \"@mui/material\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserCard(props) {\n  _s();\n  const [following, setFollowing] = useState(false);\n  const followUser = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios.post(`${backendUrl}api/newFollow`, {\n      user_id: props.result.user_id,\n      follower_id: props.userInfo,\n      created_at: currentTimestamp\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      setFollowing(true);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error posting data: \", error);\n    });\n    axios.post(`${backendUrl}api/newNotification`, {\n      user_id: props.content.user_id,\n      content: `${props.userFirstName} liked your post!`,\n      created_at: currentTimestamp,\n      is_read: false\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error posting data: \", error);\n    });\n  };\n  const unfollowUser = async () => {\n    //   const currentTimestamp = new Date().toISOString();\n    axios.delete(`${backendUrl}api/unfollow`, {\n      data: {\n        user_id: props.result.user_id,\n        follower_id: props.userInfo\n      }\n    }).then(response => {\n      const {\n        message\n      } = response.data;\n      setFollowing(false);\n      console.log(\"Response from server:\", message);\n    }).catch(error => {\n      console.error(\"Error deleting data: \", error);\n    });\n  };\n  const isFollowing = async () => {\n    axios.get(`${backendUrl}api/following/${props.result.user_id}/${props.userInfo}`).then(response => {\n      const message = response.data.rows;\n      console.log(\"Response from server:\", message);\n      if (message.length > 0) setFollowing(true);else setFollowing(false);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n    });\n  };\n  useEffect(() => {\n    isFollowing();\n  }, []);\n  if (!following) return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h4\",\n        component: \"div\",\n        children: props.result.first_name + \" \" + props.result.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"text.secondary\",\n        children: props.result.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: followUser,\n        children: \"Follow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h4\",\n        component: \"div\",\n        children: props.result.first_name + \" \" + props.result.last_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"text.secondary\",\n        children: props.result.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: unfollowUser,\n        children: \"Unfollow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 7\n  }, this);\n}\n_s(UserCard, \"wgMEBXifxrmxIPm9HgiIyclsB0c=\");\n_c = UserCard;\nexport default UserCard;\nvar _c;\n$RefreshReg$(_c, \"UserCard\");","map":{"version":3,"names":["Card","CardContent","Typography","CardActions","Button","useState","axios","backendUrl","useEffect","jsxDEV","_jsxDEV","UserCard","props","_s","following","setFollowing","followUser","currentTimestamp","Date","toISOString","post","user_id","result","follower_id","userInfo","created_at","then","response","message","data","console","log","catch","error","content","userFirstName","is_read","unfollowUser","delete","isFollowing","get","rows","length","style","maxWidth","children","gutterBottom","variant","component","first_name","last_name","fileName","_jsxFileName","lineNumber","columnNumber","color","username","size","onClick","_c","$RefreshReg$"],"sources":["/Users/bryansanchezandrade/Documents/box/client/src/components/UserCard.js"],"sourcesContent":["import {\n  Card,\n  CardContent,\n  Typography,\n  CardActions,\n  Button,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport backendUrl from \"../config\";\nimport { useEffect } from \"react\";\n\nfunction UserCard(props) {\n  const [following, setFollowing] = useState(false);\n  const followUser = async () => {\n    const currentTimestamp = new Date().toISOString();\n    axios\n      .post(`${backendUrl}api/newFollow`, {\n        user_id: props.result.user_id,\n        follower_id: props.userInfo,\n        created_at: currentTimestamp,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        setFollowing(true);\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n    axios\n      .post(`${backendUrl}api/newNotification`, {\n        user_id: props.content.user_id,\n        content: `${props.userFirstName} liked your post!`,\n        created_at: currentTimestamp,\n        is_read: false,\n      })\n      .then((response) => {\n        const { message } = response.data;\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error posting data: \", error);\n      });\n  };\n  const unfollowUser = async () => {\n    //   const currentTimestamp = new Date().toISOString();\n    axios\n      .delete(`${backendUrl}api/unfollow`, {\n        data: {\n          user_id: props.result.user_id,\n          follower_id: props.userInfo,\n        },\n      })\n      .then((response) => {\n        const { message } = response.data;\n        setFollowing(false);\n        console.log(\"Response from server:\", message);\n      })\n      .catch((error) => {\n        console.error(\"Error deleting data: \", error);\n      });\n  };\n\n  const isFollowing = async () => {\n    axios\n      .get(\n        `${backendUrl}api/following/${props.result.user_id}/${props.userInfo}`\n      )\n      .then((response) => {\n        const message = response.data.rows;\n        console.log(\"Response from server:\", message);\n        if (message.length > 0) setFollowing(true);\n        else setFollowing(false);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data: \", error);\n      });\n  };\n  useEffect(() => {\n    isFollowing();\n  }, []);\n\n  if (!following)\n    return (\n      <Card style={{ maxWidth: \"100%\" }}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h4\" component=\"div\">\n            {props.result.first_name + \" \" + props.result.last_name}\n          </Typography>\n          <Typography variant=\"h5\" color=\"text.secondary\">\n            {props.result.username}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" onClick={followUser}>\n            Follow\n          </Button>\n        </CardActions>\n      </Card>\n    );\n  else\n    return (\n      <Card style={{ maxWidth: \"100%\" }}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h4\" component=\"div\">\n            {props.result.first_name + \" \" + props.result.last_name}\n          </Typography>\n          <Typography variant=\"h5\" color=\"text.secondary\">\n            {props.result.username}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" onClick={unfollowUser}>\n            Unfollow\n          </Button>\n        </CardActions>\n      </Card>\n    );\n}\nexport default UserCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}